import{_ as y,c as n,a as e,h as a,b as s,g as d,j as S,e as f,n as m,d as w,k as L,l as M,t as N,r as k,m as G,o as H,f as I,u as F,p as P,i as x}from"./index-Dd5TzPSX.js";import{C as j,B as A}from"./BriefcaseIcon-CY9_fvs8.js";import{U as T}from"./UserIcon-DISMzj33.js";import{L as D}from"./LockIcon-DfX0E9cE.js";import{A as q,D as O}from"./AppLogo-Bmz6HxCE.js";import{L as W}from"./LogoutIcon-6BZbfSok.js";import{R as J}from"./RippleEffect-Bft_pb-i.js";const K={name:"GorillaAvatarIcon",props:{variant:{type:String,default:"default",validator:i=>["default","blue","purple","green","orange"].includes(i)}},computed:{backgroundColor(){return{default:"#16A34A",blue:"#0EA5E9",purple:"#8B5CF6",green:"#059669",orange:"#EA580C"}[this.variant]},leafColor(){return"#22C55E"},darkLeafColor(){return"#15803D"},gorillaColor(){return"#374151"},chestColor(){return"#6B7280"},faceColor(){return"#9CA3AF"}}},Q={viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},X=["fill"],Y=["fill"],ee=["fill"],oe=["fill"],re=["fill"],te=["fill"],le=["fill"],ae=["fill"],se=["fill"],ne=["fill"],ie=["fill"],de=["fill"],ce=["fill"],ue=["fill"];function fe(i,o,l,r,u,t){return a(),n("svg",Q,[e("circle",{cx:"16",cy:"16",r:"16",fill:t.backgroundColor},null,8,X),e("ellipse",{cx:"8",cy:"10",rx:"3",ry:"6",fill:t.leafColor,opacity:"0.6"},null,8,Y),e("ellipse",{cx:"24",cy:"12",rx:"2.5",ry:"5",fill:t.leafColor,opacity:"0.7"},null,8,ee),e("ellipse",{cx:"6",cy:"20",rx:"2",ry:"4",fill:t.darkLeafColor,opacity:"0.5"},null,8,oe),e("ellipse",{cx:"26",cy:"22",rx:"2.5",ry:"5",fill:t.darkLeafColor,opacity:"0.6"},null,8,re),e("ellipse",{cx:"16",cy:"24",rx:"6",ry:"5",fill:t.gorillaColor},null,8,te),e("ellipse",{cx:"16",cy:"22",rx:"4",ry:"4",fill:t.chestColor},null,8,le),e("ellipse",{cx:"10",cy:"20",rx:"2.5",ry:"6",fill:t.gorillaColor},null,8,ae),e("ellipse",{cx:"22",cy:"20",rx:"2.5",ry:"6",fill:t.gorillaColor},null,8,se),e("ellipse",{cx:"16",cy:"14",rx:"5",ry:"6",fill:t.gorillaColor},null,8,ne),e("ellipse",{cx:"16",cy:"15",rx:"3.5",ry:"4",fill:t.faceColor},null,8,ie),e("ellipse",{cx:"16",cy:"16",rx:"0.8",ry:"1.2",fill:t.gorillaColor},null,8,de),e("ellipse",{cx:"4",cy:"25",rx:"2",ry:"4",fill:t.leafColor,opacity:"0.8"},null,8,ce),e("ellipse",{cx:"28",cy:"28",rx:"2.5",ry:"4",fill:t.darkLeafColor,opacity:"0.7"},null,8,ue)])}const ge=y(K,[["render",fe]]),_e={name:"SidebarToggle",components:{ChevronDownIcon:j},props:{isCollapsed:{type:Boolean,default:!1}},emits:["toggle"]};function he(i,o,l,r,u,t){const g=d("ChevronDownIcon");return a(),n("button",{onClick:o[0]||(o[0]=b=>i.$emit("toggle")),class:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 hover:bg-gray-200 dark:hover:bg-gray-600 transition-all duration-200 shadow-sm hover:shadow-md"},[s(g,{className:["w-4 h-4 text-gray-600 dark:text-gray-400 transition-transform duration-300",l.isCollapsed?"-rotate-90":"rotate-90"]},null,8,["className"])])}const me=y(_e,[["render",he]]),ye={name:"SidebarLink",props:{to:{type:String,default:null},icon:{type:Object,required:!0},sidebarCollapsed:{type:Boolean,default:!1}},emits:["click"]},pe={key:0,class:"ml-3 font-medium"},xe={key:0,class:"ml-3 font-medium"};function be(i,o,l,r,u,t){const g=d("router-link");return a(),n("li",null,[l.to?(a(),S(g,{key:0,to:l.to,class:m(["flex items-center px-3 py-2 rounded-l-lg rounded-r-lg text-gray-600 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-100/80 dark:hover:bg-gray-700/80 transition-all duration-200",l.sidebarCollapsed?"justify-center px-2":""]),"active-class":"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm rounded-l-lg rounded-r-sm"},{default:f(()=>[(a(),S(L(l.icon),{className:l.sidebarCollapsed?"w-6 h-6":"w-5 h-5"},null,8,["className"])),l.sidebarCollapsed?w("",!0):(a(),n("span",pe,[M(i.$slots,"default")]))]),_:3},8,["to","class"])):(a(),n("button",{key:1,class:m(["w-full flex items-center px-3 py-2 rounded-l-lg rounded-r-lg text-gray-600 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-100/80 dark:hover:bg-gray-700/80 transition-all duration-200",l.sidebarCollapsed?"justify-center px-2":""]),onClick:o[0]||(o[0]=b=>i.$emit("click"))},[(a(),S(L(l.icon),{className:l.sidebarCollapsed?"w-6 h-6":"w-5 h-5"},null,8,["className"])),l.sidebarCollapsed?w("",!0):(a(),n("span",xe,[M(i.$slots,"default")]))],2))])}const ve=y(ye,[["render",be]]),ke={name:"DashboardIcon",props:{className:{type:String,default:"w-5 h-5"}}};function we(i,o,l,r,u,t){return a(),n("svg",{class:m(l.className),fill:"currentColor",viewBox:"0 0 24 24"},o[0]||(o[0]=[e("path",{d:"M5 3a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2H5Zm14 18a2 2 0 0 0 2-2v-2a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h4ZM5 11a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2H5Zm14 2a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h4Z"},null,-1)]),2)}const B=y(ke,[["render",we]]),Ce={name:"UsersIcon",props:{className:{type:String,default:"w-6 h-6"}}};function Se(i,o,l,r,u,t){return a(),n("svg",{class:m(l.className),fill:"currentColor",viewBox:"0 0 24 24"},o[0]||(o[0]=[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 1 0 0 8 4 4 0 0 0 0-8Zm-2 9a4 4 0 0 0-4 4v1a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-1a4 4 0 0 0-4-4H6Zm7.25-2.095c.478-.86.75-1.85.75-2.905a5.973 5.973 0 0 0-.75-2.906 4 4 0 1 1 0 5.811ZM15.466 20c.34-.588.535-1.271.535-2v-1a5.978 5.978 0 0 0-1.528-4H18a4 4 0 0 1 4 4v1a2 2 0 0 1-2 2h-4.535Z","clip-rule":"evenodd"},null,-1)]),2)}const U=y(Ce,[["render",Se]]),Ie={name:"UserSettingsIcon",props:{className:{type:String,default:"w-4 h-4"}}};function Le(i,o,l,r,u,t){return a(),n("svg",{class:m(l.className),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},o[0]||(o[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"},null,-1),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1)]),2)}const Me=y(Ie,[["render",Le]]),Ne={name:"AppLayout",components:{ChevronDownIcon:j,UserIcon:T,LockIcon:D,BriefcaseIcon:A,GorillaAvatarIcon:ge,DarkModeToggle:O,AppLogo:q,SidebarToggle:me,SidebarLink:ve,LogoutIcon:W,DashboardIcon:B,UsersIcon:U,UserSettingsIcon:Me,RippleEffect:J},setup(){const i=F(),o=P(),l=k(null),r=k(!1),u=k(!0),t=k(!1),g=k(!1),b=G(()=>{var _;return((_=o.meta)==null?void 0:_.title)||o.name||"Dashboard"});return H(async()=>{if(!I.isAuthenticated()){i.push("/login");return}try{const h=await I.me();h.success&&(l.value=h.data.user)}catch(h){console.error("Failed to fetch user data:",h)}finally{u.value=!1}document.addEventListener("click",h=>{h.target.closest(".relative")||(r.value=!1)});const _=()=>{typeof window<"u"&&window.innerWidth>=768&&(g.value=!1)};typeof window<"u"&&window.addEventListener("resize",_)}),{user:l,showUserMenu:r,loading:u,sidebarCollapsed:t,showMobileSidebar:g,pageTitle:b,toggleSidebar:()=>{t.value=!t.value},handleLogout:async()=>{try{await I.logout()}catch(_){console.error("Logout error:",_)}finally{i.push("/login")}},UserIcon:T,BriefcaseIcon:A,LockIcon:D,DashboardIcon:B,UsersIcon:U}}},Ae={class:"min-h-screen bg-gray-50 dark:bg-gray-900 flex"},Te={key:0,class:"transition-opacity duration-300 flex-1 flex items-center justify-center mr-8"},De={class:"flex items-center"},Be={class:"mt-6 px-3"},Ue={class:"space-y-2"},je={class:"flex-1 flex flex-col min-w-0"},Ee={class:"bg-gray-50 dark:bg-gray-900"},$e={class:"px-8 sm:px-12 lg:px-16"},ze={class:"flex justify-between h-16"},Ze={class:"flex items-center"},Ve=["onClick","onTouchstart"],Re={class:"text-lg font-semibold text-gray-900 dark:text-white"},Ge={class:"flex items-center space-x-4"},He={class:"relative"},Fe=["onClick","onTouchstart"],Pe={key:0,class:"w-8 h-8 rounded-full overflow-hidden"},qe={key:1,class:"skeleton-avatar"},Oe={key:2,class:"hidden sm:block"},We={key:3,class:"skeleton-text w-20 hidden sm:block"},Je={key:0,class:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 z-10"},Ke={class:"py-1"},Qe=["onClick","onTouchstart"],Xe={class:"flex-1 overflow-auto"},Ye={class:"py-8 px-8 sm:px-12 lg:px-16"};function eo(i,o,l,r,u,t){const g=d("AppLogo"),b=d("SidebarToggle"),v=d("SidebarLink"),C=d("RippleEffect"),_=d("DarkModeToggle"),h=d("GorillaAvatarIcon"),E=d("ChevronDownIcon"),$=d("UserSettingsIcon"),z=d("router-link"),Z=d("LogoutIcon"),V=d("router-view");return a(),n("div",Ae,[e("aside",{class:m(["bg-white dark:bg-gray-800 shadow-sm border-r border-gray-200 dark:border-gray-700 transition-all duration-300 ease-in-out z-50",r.sidebarCollapsed?"w-16":"w-64","md:relative md:translate-x-0",r.showMobileSidebar?"fixed inset-y-0 left-0 translate-x-0":"fixed inset-y-0 left-0 -translate-x-full md:translate-x-0"])},[e("div",{class:m(["h-16 flex items-center py-3 mt-2",r.sidebarCollapsed?"justify-center px-6":"justify-between px-6 pr-6"])},[r.sidebarCollapsed?w("",!0):(a(),n("div",Te,[s(g)])),e("div",De,[s(b,{isCollapsed:r.sidebarCollapsed,onToggle:r.toggleSidebar},null,8,["isCollapsed","onToggle"])])],2),e("nav",Be,[e("ul",Ue,[s(v,{to:"/dashboard",icon:r.DashboardIcon,sidebarCollapsed:r.sidebarCollapsed},{default:f(()=>o[2]||(o[2]=[x(" Dashboard ")])),_:1,__:[2]},8,["icon","sidebarCollapsed"]),s(v,{to:"/users",icon:r.UsersIcon,sidebarCollapsed:r.sidebarCollapsed},{default:f(()=>o[3]||(o[3]=[x(" Users ")])),_:1,__:[3]},8,["icon","sidebarCollapsed"]),s(v,{to:"/roles",icon:r.BriefcaseIcon,sidebarCollapsed:r.sidebarCollapsed},{default:f(()=>o[4]||(o[4]=[x(" Roles ")])),_:1,__:[4]},8,["icon","sidebarCollapsed"]),s(v,{icon:r.LockIcon,sidebarCollapsed:r.sidebarCollapsed},{default:f(()=>o[5]||(o[5]=[x(" Settings ")])),_:1,__:[5]},8,["icon","sidebarCollapsed"])])])],2),e("div",je,[e("header",Ee,[e("div",$e,[e("div",ze,[e("div",Ze,[s(C,{color:"rgba(107, 114, 128, 0.3)"},{default:f(({createRipple:c})=>[e("button",{onClick:p=>{c(p),r.showMobileSidebar=!r.showMobileSidebar},onTouchstart:c,class:"md:hidden p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors mr-3"},o[6]||(o[6]=[e("svg",{class:"w-5 h-5 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]),40,Ve)]),_:1}),e("h2",Re,N(r.pageTitle),1)]),e("div",Ge,[s(_),e("div",He,[s(C,{color:"rgba(107, 114, 128, 0.3)"},{default:f(({createRipple:c})=>{var p;return[e("button",{onClick:R=>{c(R),r.showUserMenu=!r.showUserMenu},onTouchstart:c,class:"flex items-center space-x-2 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white"},[r.loading?(a(),n("div",qe)):(a(),n("div",Pe,[s(h,{variant:"default"})])),r.loading?(a(),n("div",We)):(a(),n("span",Oe,N(((p=r.user)==null?void 0:p.name)||"User"),1)),s(E,{className:"w-4 h-4"})],40,Fe)]}),_:1}),r.showUserMenu?(a(),n("div",Je,[e("div",Ke,[s(z,{to:"/profile",onClick:o[0]||(o[0]=c=>r.showUserMenu=!1),class:"w-full flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-200"},{default:f(()=>[s($,{className:"w-4 h-4 mr-2"}),o[7]||(o[7]=x(" Profile & API "))]),_:1,__:[7]}),s(C,{color:"rgba(225, 29, 72, 0.3)"},{default:f(({createRipple:c})=>[e("button",{onClick:p=>{c(p),r.handleLogout()},onTouchstart:c,class:"w-full flex items-center px-4 py-2 text-sm text-rose-600 dark:text-rose-400 hover:bg-rose-50 dark:hover:bg-rose-900/20 hover:text-rose-700 dark:hover:text-rose-300 transition-all duration-200"},[s(Z,{className:"w-4 h-4 mr-2"}),o[8]||(o[8]=x(" Sign out "))],40,Qe)]),_:1})])])):w("",!0)])])])])]),e("main",Xe,[e("div",Ye,[s(V)])])]),r.showMobileSidebar?(a(),n("div",{key:0,onClick:o[1]||(o[1]=c=>r.showMobileSidebar=!1),class:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden"})):w("",!0)])}const io=y(Ne,[["render",eo]]);export{io as default};
