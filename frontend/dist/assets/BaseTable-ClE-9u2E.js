import{C as k}from"./BriefcaseIcon-CY9_fvs8.js";import{_ as f,m as u,c as i,a as t,n as m,b as h,F as p,v as w,t as l,g as v,h as d,i as S,l as b,G as x}from"./index-Dd5TzPSX.js";import{S as C}from"./SpinnerIcon-BMtDvVyB.js";const P={name:"TablePagination",components:{ChevronDownIcon:k},props:{pagination:{type:Object,required:!0},perPage:{type:Number,required:!0}},emits:["page-change","per-page-change"],setup(r){const n=u(()=>r.pagination.total===0?0:(r.pagination.page-1)*r.pagination.limit+1),a=u(()=>{const g=r.pagination.page*r.pagination.limit;return Math.min(g,r.pagination.total)});return{startItem:n,endItem:a,getVisiblePages:()=>{const g=r.pagination.page,s=r.pagination.totalPages;if(s<=7)return Array.from({length:s},(o,_)=>_+1);const e=[];if(g<=4){for(let o=1;o<=5;o++)e.push(o);e.push("..."),e.push(s)}else if(g>=s-3){e.push(1),e.push("...");for(let o=s-4;o<=s;o++)e.push(o)}else{e.push(1),e.push("...");for(let o=g-1;o<=g+1;o++)e.push(o);e.push("..."),e.push(s)}return e}}}},I={class:"mt-6 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 px-4 py-4 sm:px-6"},T={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},$={class:"flex items-center justify-center sm:justify-start"},B={class:"flex items-center space-x-1","aria-label":"Pagination"},V=["disabled"],N={class:"flex"},j=["onClick"],D={key:1,class:"px-3 py-1.5 text-sm text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 border -ml-px"},H=["disabled"],q={class:"flex flex-col sm:flex-row sm:items-center gap-3 text-center sm:text-right"},A={class:"text-sm text-gray-700 dark:text-gray-300 order-2 sm:order-1"},F={class:"flex items-center justify-center sm:justify-end space-x-2 order-1 sm:order-2"},M=["value"];function z(r,n,a,c,g,s){const y=v("ChevronDownIcon");return d(),i("div",I,[t("div",T,[t("div",$,[t("nav",B,[t("button",{disabled:!a.pagination.hasPrev,onClick:n[0]||(n[0]=e=>r.$emit("page-change",a.pagination.page-1)),class:m([{"opacity-40 cursor-not-allowed":!a.pagination.hasPrev,"hover:bg-gray-50 dark:hover:bg-gray-700":a.pagination.hasPrev},"px-2 py-2 text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-l-lg transition-colors duration-150"])},[h(y,{class:"h-4 w-4 transform rotate-90"})],10,V),t("div",N,[(d(!0),i(p,null,w(c.getVisiblePages(),e=>(d(),i(p,{key:e},[e!=="..."?(d(),i("button",{key:0,onClick:o=>r.$emit("page-change",e),class:m([{"bg-brand-600 text-white border-brand-600 shadow-sm dark:bg-brand-600 dark:border-brand-600":e===a.pagination.page,"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700":e!==a.pagination.page},"px-3 py-1.5 text-sm font-medium border -ml-px transition-colors duration-150 min-w-[40px]"])},l(e),11,j)):(d(),i("span",D," ... "))],64))),128))]),t("button",{disabled:!a.pagination.hasNext,onClick:n[1]||(n[1]=e=>r.$emit("page-change",a.pagination.page+1)),class:m([{"opacity-40 cursor-not-allowed":!a.pagination.hasNext,"hover:bg-gray-50 dark:hover:bg-gray-700":a.pagination.hasNext},"px-2 py-2 text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-r-lg -ml-px transition-colors duration-150"])},[h(y,{class:"h-4 w-4 transform -rotate-90"})],10,H)])]),t("div",q,[t("div",A," Showing "+l(c.startItem)+" to "+l(c.endItem)+" of "+l(a.pagination.total)+" results ",1),t("div",F,[n[4]||(n[4]=t("label",{for:"per-page",class:"text-sm text-gray-700 dark:text-gray-300 whitespace-nowrap"}," Show: ",-1)),t("select",{id:"per-page",value:a.perPage,onChange:n[2]||(n[2]=e=>r.$emit("per-page-change",parseInt(e.target.value))),class:"px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-brand-500 focus:border-brand-500 transition-colors"},n[3]||(n[3]=[t("option",{value:"5"},"5",-1),t("option",{value:"10"},"10",-1),t("option",{value:"25"},"25",-1),t("option",{value:"50"},"50",-1)]),40,M)])])])])}const re=f(P,[["render",z]]),L={name:"BaseTable",components:{SpinnerIcon:C},props:{data:{type:Array,required:!0},loading:{type:Boolean,default:!1},error:{type:String,default:null},loadingText:{type:String,default:"Loading..."},errorTitle:{type:String,default:"Failed to load data"},minHeight:{type:String,default:"200px"},tableBodyMinHeight:{type:String,default:"200px"}},emits:["retry"],computed:{hasData(){return this.data.length>0}}},E={key:0,class:"p-8 text-center"},G={class:"inline-flex items-center px-4 py-2 font-semibold leading-6 text-sm text-gray-500 dark:text-gray-400"},O={key:1,class:"p-8 text-center"},J={class:"text-red-600 dark:text-red-400"},K={class:"font-medium"},Q={class:"text-sm mt-1"},R={key:2,class:"overflow-x-auto"},U={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},W={class:"bg-gray-100 dark:bg-gray-600"},X={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Y={key:3,class:"p-8 text-center"};function Z(r,n,a,c,g,s){const y=v("SpinnerIcon");return d(),i("div",{class:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden border border-gray-200 dark:border-gray-600",style:x({minHeight:a.minHeight})},[a.loading?(d(),i("div",E,[t("div",G,[h(y,{class:"animate-spin -ml-1 mr-3 h-5 w-5"}),S(" "+l(a.loadingText),1)])])):a.error?(d(),i("div",O,[t("div",J,[t("p",K,l(a.errorTitle),1),t("p",Q,l(a.error),1),t("button",{onClick:n[0]||(n[0]=e=>r.$emit("retry")),class:"mt-4 px-4 py-2 bg-brand-600 text-white rounded-md hover:bg-brand-700 transition-colors duration-200"}," Try Again ")])])):s.hasData?(d(),i("div",R,[t("div",{style:x({minHeight:a.tableBodyMinHeight})},[t("table",U,[t("thead",W,[b(r.$slots,"header")]),t("tbody",X,[b(r.$slots,"body")])])],4)])):(d(),i("div",Y,[b(r.$slots,"empty")]))],4)}const ne=f(L,[["render",Z]]);export{ne as B,re as T};
