import{_ as I,c as o,a as t,t as n,b as d,r as l,o as N,f as x,u as C,g as i,h as r}from"./index-Cd4aCzMT.js";import{C as D,a as T}from"./CopyButton-o_T-tHjm.js";import{U}from"./UserIcon-gtZ1h6Kj.js";import{L}from"./LockIcon-CxqaoesE.js";import"./RippleEffect-2iBhaxqA.js";const S={name:"Dashboard",components:{CheckIcon:T,UserIcon:U,LockIcon:L,CopyButton:D},setup(){const m=C(),e=l(null),c=l(""),s=l(""),g=l(!0);return N(async()=>{if(!x.isAuthenticated()){m.push("/login");return}c.value=x.getToken();try{const a=await x.me();a.success&&(e.value=a.data.user,s.value=new Date(a.data.token_expires_at).toLocaleString())}catch(a){console.error("Failed to fetch user data:",a)}finally{g.value=!1}}),{user:e,currentToken:c,tokenExpiry:s,loading:g,formatDate:a=>a?new Date(a).toLocaleDateString():null}}},B={class:"mb-8"},A={key:0,class:"text-3xl font-bold text-gray-900 dark:text-white mb-2"},E={key:1,class:"flex items-center gap-3 mb-2"},j={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},M={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6"},V={class:"flex items-center"},W={class:"w-12 h-12 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center"},F={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6"},H={class:"flex items-center"},R={class:"w-12 h-12 bg-brand-100 dark:bg-brand-900/20 rounded-lg flex items-center justify-center"},q={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6"},z={class:"flex items-center"},G={class:"w-12 h-12 bg-purple-100 dark:bg-purple-900/20 rounded-lg flex items-center justify-center"},J={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-8"},K={class:"flex items-center justify-between mb-4"},O={class:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4"},P={key:0,class:"text-sm text-gray-900 dark:text-white font-mono break-all"},Q={key:1,class:"skeleton-text w-full"},X={class:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4 text-sm"},Y={key:0,class:"font-medium text-gray-900 dark:text-white"},Z={key:1,class:"skeleton-text w-20 mt-1"},$={key:0,class:"font-medium text-gray-900 dark:text-white"},tt={key:1,class:"skeleton-text w-32 mt-1"},et={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6"},st={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ot={key:0,class:"font-medium text-gray-900 dark:text-white"},rt={key:1,class:"skeleton-text w-24 mt-1"},at={key:0,class:"font-medium text-gray-900 dark:text-white"},nt={key:1,class:"skeleton-text w-32 mt-1"},dt={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400"},lt={key:1,class:"skeleton-text w-16 h-5 rounded-full mt-1"},it={key:0,class:"font-medium text-gray-900 dark:text-white"},ct={key:1,class:"skeleton-text w-28 mt-1"};function gt(m,e,c,s,g,h){var k,y,b,u,_,f;const a=i("CheckIcon"),p=i("UserIcon"),v=i("LockIcon"),w=i("CopyButton");return r(),o("div",null,[t("div",B,[s.loading?(r(),o("div",E,e[0]||(e[0]=[t("span",{class:"text-3xl font-bold text-gray-900 dark:text-white"},"Welcome back,",-1),t("div",{class:"skeleton-text-xl w-32"},null,-1),t("span",{class:"text-3xl font-bold text-gray-900 dark:text-white"},"!",-1)]))):(r(),o("h2",A," Welcome back, "+n(((k=s.user)==null?void 0:k.name)||"User")+"! ",1)),e[1]||(e[1]=t("p",{class:"text-gray-600 dark:text-gray-400"}," Here's your dashboard overview ",-1))]),t("div",j,[t("div",M,[t("div",V,[t("div",W,[d(a,{className:"w-6 h-6 text-green-600 dark:text-green-400"})]),e[2]||(e[2]=t("div",{class:"ml-4"},[t("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Status"),t("p",{class:"text-2xl font-semibold text-gray-900 dark:text-white"},"Active")],-1))])]),t("div",F,[t("div",H,[t("div",R,[d(p,{className:"w-6 h-6 text-brand-600 dark:text-brand-400"})]),e[3]||(e[3]=t("div",{class:"ml-4"},[t("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Account Type"),t("p",{class:"text-2xl font-semibold text-gray-900 dark:text-white"},"Admin")],-1))])]),t("div",q,[t("div",z,[t("div",G,[d(v,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})]),e[4]||(e[4]=t("div",{class:"ml-4"},[t("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Session"),t("p",{class:"text-2xl font-semibold text-gray-900 dark:text-white"},"Secure")],-1))])])]),t("div",J,[t("div",K,[e[5]||(e[5]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Authentication Token",-1)),d(w,{text:s.currentToken},null,8,["text"])]),t("div",O,[e[6]||(e[6]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400 mb-2"},"Current Token:",-1)),s.loading?(r(),o("div",Q)):(r(),o("code",P,n(s.currentToken||"No token found"),1))]),t("div",X,[t("div",null,[e[7]||(e[7]=t("p",{class:"text-gray-600 dark:text-gray-400 mb-1"},"Token Length:",-1)),s.loading?(r(),o("div",Z)):(r(),o("p",Y,n(((y=s.currentToken)==null?void 0:y.length)||0)+" characters",1))]),t("div",null,[e[8]||(e[8]=t("p",{class:"text-gray-600 dark:text-gray-400 mb-1"},"Expires:",-1)),s.loading?(r(),o("div",tt)):(r(),o("p",$,n(s.tokenExpiry||"Unknown"),1))])])]),t("div",et,[e[13]||(e[13]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"User Information",-1)),t("div",st,[t("div",null,[e[9]||(e[9]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-1"},"Name",-1)),s.loading?(r(),o("div",rt)):(r(),o("p",ot,n(((b=s.user)==null?void 0:b.name)||"Not available"),1))]),t("div",null,[e[10]||(e[10]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-1"},"Email",-1)),s.loading?(r(),o("div",nt)):(r(),o("p",at,n(((u=s.user)==null?void 0:u.email)||"Not available"),1))]),t("div",null,[e[11]||(e[11]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-1"},"Status",-1)),s.loading?(r(),o("div",lt)):(r(),o("span",dt,n(((_=s.user)==null?void 0:_.status)||"Unknown"),1))]),t("div",null,[e[12]||(e[12]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-1"},"Member Since",-1)),s.loading?(r(),o("div",ct)):(r(),o("p",it,n(s.formatDate((f=s.user)==null?void 0:f.created_at)||"Not available"),1))])])])])}const ut=I(S,[["render",gt]]);export{ut as default};
