import{_ as h,c as i,a as t,b as r,w,d as k,t as v,e as L,r as m,o as I,f as g,u as S,g as s,h as l,i as V}from"./index-Dd5TzPSX.js";import{B as P}from"./BaseInput-BL2JbYwr.js";import{P as B}from"./PasswordInput-RTf3SsL8.js";import{S as E}from"./SpinnerIcon-BMtDvVyB.js";import{A as T,D as A}from"./AppLogo-Bmz6HxCE.js";import{R as C}from"./RippleEffect-Bft_pb-i.js";const D={name:"Login",components:{BaseInput:P,PasswordInput:B,SpinnerIcon:E,DarkModeToggle:A,AppLogo:T,RippleEffect:C},setup(){const c=S(),o=m(!1),n=m(""),e=m({identity:"",password:""});return I(()=>{g.isAuthenticated()&&c.push("/dashboard")}),{form:e,loading:o,error:n,handleLogin:async()=>{o.value=!0,n.value="";try{const d=await g.login(e.value.identity,e.value.password);d.success?c.push("/dashboard"):n.value=d.message||"Login failed"}catch(d){n.value=d.message||"Login failed. Please try again."}finally{o.value=!1}}}}},M={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 px-4"},N={class:"absolute top-6 left-6"},R={class:"absolute top-6 right-6"},U={class:"w-full max-w-md"},j={class:"bg-white dark:bg-gray-900 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 p-8"},q={key:0,class:"p-4 rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"},z={class:"text-sm text-red-700 dark:text-red-400"},F=["disabled","onClick","onTouchstart"],G={key:0,class:"flex items-center justify-center"},H={key:1};function J(c,o,n,e,p,d){const u=s("AppLogo"),f=s("DarkModeToggle"),b=s("BaseInput"),y=s("PasswordInput"),x=s("SpinnerIcon"),_=s("RippleEffect");return l(),i("div",M,[t("div",N,[r(u)]),t("div",R,[r(f)]),t("div",U,[t("div",j,[o[4]||(o[4]=t("div",{class:"text-center mb-8"},[t("h1",{class:"text-3xl font-bold text-gray-800 dark:text-white mb-2"}," Sign In "),t("p",{class:"text-gray-600 dark:text-gray-400"}," Sign in to your account ")],-1)),t("form",{onSubmit:o[2]||(o[2]=w((...a)=>e.handleLogin&&e.handleLogin(...a),["prevent"])),class:"space-y-6"},[r(b,{id:"identity",modelValue:e.form.identity,"onUpdate:modelValue":o[0]||(o[0]=a=>e.form.identity=a),label:"Email or Username",type:"text",placeholder:"Enter your email or username",required:"",disabled:e.loading},null,8,["modelValue","disabled"]),r(y,{id:"password",modelValue:e.form.password,"onUpdate:modelValue":o[1]||(o[1]=a=>e.form.password=a),label:"Password",placeholder:"Enter your password",required:"",disabled:e.loading},null,8,["modelValue","disabled"]),e.error?(l(),i("div",q,[t("p",z,v(e.error),1)])):k("",!0),r(_,{disabled:e.loading,color:"rgba(255, 255, 255, 0.3)"},{default:L(({createRipple:a})=>[t("button",{type:"submit",disabled:e.loading,onClick:a,onTouchstart:a,class:"w-full bg-brand-600 hover:bg-brand-700 disabled:bg-gray-400 text-white font-medium py-3 px-4 rounded-lg transition-all transform hover:scale-[1.02] disabled:scale-100 disabled:cursor-not-allowed"},[e.loading?(l(),i("span",G,[r(x),o[3]||(o[3]=V(" Signing in... "))])):(l(),i("span",H,"Login"))],40,F)]),_:1},8,["disabled"])],32),o[5]||(o[5]=t("div",{class:"mt-6 text-center"},[t("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Secure authentication powered by Proxmox Panel ")],-1))])])])}const Z=h(D,[["render",J]]);export{Z as default};
